A simple program that responds to rising edges (button release) events on PA0 by toggling a led3 (PC8).

Required hardware: de-bounce circuit added to PA0 (filtering glitches, 100Ω resistor in paralel with 0,001μF capasitor and vcc 3.3v)
